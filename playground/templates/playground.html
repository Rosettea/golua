<html>
    <head>
        <title>Golua Playground</title>
    </head>
    <body>
        <h1>The Golua Playground (alpha)</h1>
        <div>
            You have {{ .Cpu }} cpu units and {{ .Mem }} mem units.  Click "Run"
            to run the code, click "Save" to save the code on the server, you
            can then share the URL.
        </div>
        <div>
            <form method="post">
                <h2>
                    <label for="code">Lua Code</label>
                    <button type="submit">Run</button>
                    <button typw="submit" formaction="/save">Save</button>
                </h2>
                <textarea rows="30" cols="100" maxlength="10000" name="code">{{ .Source }}</textarea>
            </form>
        </div>
        {{- if .Output }}
        <h2>Output</h2>
        <pre>
            {{- .Output -}}
        </pre>
        {{- end }}
        {{- if .Context }}
        <h2>Outcome</h2>
        <ul>
            <li>status: {{ .Status }} </li>
            <li>cpu: used {{ .Context.CpuUsed }} / {{ .Context.CpuLimit }}</li>
            <li>mem: used {{ .Context.MemUsed }} / {{ .Context.MemLimit }}</li>
        </ul>
        {{- end }}
    </body>
</html>
